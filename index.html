<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<!-- bootstrap css -->
		<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" />
		<!-- jquery js -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<!-- bootstrap js -->
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
		<script src="wordBank.js"></script>
	</head>
	<body>
		<div class="container">
			<div id="meme" class="funny">Doggo</div>
			<button id="memeButton">Click Me</button>
			<div class="form-group">

				<label for="bullet">Bullet:</label>
				<textarea id="bullet" class="form-control" rows="5"></textarea>

				<div class="container">
					<div class="row">

						<!-- column that holds a dropdown for the bullet type and the character counter -->
						<div id="col1" class="col-sm">
							
							<label for="type">Type:</label>
							<select id="type">
								<option value="select">Select Type</option>
								<option value="epr">EPR</option>
								<option value="award">Award</option>
							</select>
							
							<p>
								<span id="wordCount">0</span> Characters
							</p>

						</div>

						<!-- column that holds the feedback for the user regarding the length of their bullet -->
						<div id="col2" class="col-sm">
							<p>
								</br>Length Check: <span id="lengthCheck">Select type</span>
							</p>
						</div>

					</div>
				</div>
				
				<br />

				<button id="evaluate" class="btn btn-success btn-block">Evaluate</button>

			</div>
		</div>
	</body>
</html>
<style>
#col2 {
	text-align: right;
}
</style>
<script>
	// when the page is fully loaded, start running the code
	$(document).ready(function(){

		// when any button is clicked, run the following code (defined by an anonymous function)
		$("#memeButton").click(function(){
			// set 'content' equal to the text within an element with the ID of 'meme'
			// in this case, the element is a div<!DOCTYPE html>

			var content = $("#meme").text();
			// log 'content' to the console. the console can be viewed by using 'inspect' in your browser while the page is running
			console.log(content);
			// create a new div element within the body element that contains the value of 'content'
			$("body .container").append('<div class="funny">' + content + '</div>');
		});

		// character counter & checks if the length is short, long, or fine
		var lengthCheck = $("#lengthCheck");
		var myText = $("#bullet");
		var wordCount = $("#wordCount");
		var characters = '';
		var dropType = $("#type");
		var min;
		var max;
		
		function updateLengthCheck(){
			if (characters.length < min) {
				lengthCheck.text("Too short");
			} else if (characters.length <= max) {
				lengthCheck.text("Perfect");
			} else if (characters.length > max) {
				lengthCheck.text("Too long");
			} else {
				lengthCheck.text("Select type");
			}
		}
		
		dropType.on("change", function() {
			if (dropType.val() == "epr"){
				min = 113;
				max = 118;
			} else if (dropType.val() == "award") {
				min = 84;
				max = 140;
			} else {
				min = undefined;
				max = undefined;
			}
			
			updateLengthCheck();
		});

		myText.on("keyup", function(){
			characters = myText.val();
			wordCount.text(characters.length);
			
			updateLengthCheck();
		});
	});
</script>